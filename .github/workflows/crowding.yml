name: Crowdin

on:
  push:
    paths:
      - '**/strings.xml'

  workflow_dispatch:
    inputs:
      downloadTranslations:
        description: "Download translations"
        required: true
        default: false
        type: boolean

jobs:
  synchronize-with-crowdin1:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3

#      - name: crowdin action
#        uses: crowdin/github-action@1.5.1
#        with:
#          config: 'app-endpoint/crowdin.yml'
#          crowdin_branch_name: "app-endpoint"
#          download_translations: ${{ inputs.downloadTranslations }}
#          localization_branch_name: 'task/ANEP-XXX_crowdin_translations'
#          commit_message: 'New Crowdin translations by Github Action'
#          create_pull_request: true
#          pull_request_title: 'New Crowdin translations'
#          pull_request_body: 'New Crowdin pull request with translations'
#          pull_request_labels: 'AUTOMATED PR'
#          pull_request_base_branch_name: 'dev'
#        env:
#          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#          EP_CROWDIN_PROJECT_ID: ${{ secrets.EP_CROWDIN_PROJECT_ID }}
#          EP_CROWDIN_API_TOKEN: ${{ secrets.EP_CROWDIN_API_TOKEN }}

  synchronize-with-crowdin2:

    needs: synchronize-with-crowdin1
    runs-on: ubuntu-latest
    steps:
      - name: Test
        run: echo "hello"
